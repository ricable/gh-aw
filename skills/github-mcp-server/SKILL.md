---
name: github-mcp-server
description: GitHub MCP Server Documentation
---


# GitHub MCP Server Documentation

This file contains comprehensive documentation about the GitHub MCP (Model Context Protocol) server, including available tools and configuration options.

**Note**: This file is automatically generated and updated by the `github-mcp-tools-report.md` workflow. Manual edits may be overwritten.

**Last Updated**: 2026-02-22

## Overview

The GitHub MCP server provides AI agents with programmatic access to GitHub's API through the Model Context Protocol. It supports two modes of operation:

### Local Mode (Docker-based)
- Runs as a Docker container on the GitHub Actions runner
- Uses `GITHUB_PERSONAL_ACCESS_TOKEN` environment variable for authentication
- Configurable toolsets via `GITHUB_TOOLSETS` environment variable
- Supports read-only mode via `GITHUB_READ_ONLY` environment variable

### Remote Mode (Hosted)
- Connects to hosted GitHub MCP server at `https://api.githubcopilot.com/mcp/`
- Uses Bearer token authentication in HTTP headers
- Supports read-only mode via `X-MCP-Readonly` header
- No Docker container required

## Configuration

### Basic Configuration

**Local Mode (Docker)**:
```yaml
tools:
  github:
    mode: "local"
    toolsets: [default]  # or [repos, issues, pull_requests]
```

**Remote Mode (Hosted)**:
```yaml
tools:
  github:
    mode: "remote"
    toolsets: [default]  # or [repos, issues, pull_requests]
```

### Read-Only Mode

To restrict the GitHub MCP server to read-only operations:

```yaml
tools:
  github:
    mode: "remote"
    read-only: true
    toolsets: [repos, issues]
```

### Custom Authentication

Use a custom GitHub token instead of the default:

```yaml
tools:
  github:
    mode: "remote"
    github-token: "${{ secrets.CUSTOM_GITHUB_PAT }}"
    toolsets: [repos, issues]
```

## Available Toolsets

The GitHub MCP server organizes tools into logical toolsets. You can enable specific toolsets, use `[default]` for the recommended defaults, or use `[all]` to enable everything.

:::note[Why Use Toolsets?]
The `allowed:` pattern for listing individual GitHub tools is **not recommended for new workflows**. Individual tool names may change between GitHub MCP server versions, but toolsets provide a stable API. Always use `toolsets:` instead. See [Migration from Allowed to Toolsets](#migration-from-allowed-to-toolsets) for guidance on updating existing workflows.
:::

:::tip[Best Practice]
**Always use `toolsets:` for GitHub tools.** Toolsets provide:
- **Stability**: Tool names may change between MCP server versions, but toolsets remain stable
- **Better organization**: Clear groupings of related functionality
- **Complete functionality**: Get all related tools automatically
- **Reduced verbosity**: Cleaner configuration
- **Future-proof**: New tools are automatically included as they're added
:::

### Recommended Default Toolsets

The following toolsets are enabled by default when `toolsets:` is not specified:
- `context` - GitHub Copilot context and environment (includes support docs search)
- `repos` - Repository management
- `issues` - Issue management
- `pull_requests` - Pull request operations

**Note**: The `users` toolset is not included by default and must be explicitly specified if needed.

### All Available Toolsets

| Toolset | Description | Common Tools |
|---------|-------------|--------------|
| `context` | GitHub Copilot context and support | `get_copilot_space`, `list_copilot_spaces`, `github_support_docs_search` |
| `repos` | Repository management | `get_file_contents`, `get_repository_tree`, `list_commits`, `get_commit`, `list_branches` |
| `issues` | Issue management | `issue_read`, `list_issues`, `list_issue_types`, `search_issues` |
| `pull_requests` | Pull request operations | `pull_request_read`, `list_pull_requests`, `search_pull_requests` |
| `actions` | GitHub Actions/CI/CD | `actions_list`, `actions_get`, `get_job_logs` |
| `code_security` | Code scanning and security | `list_code_scanning_alerts`, `get_code_scanning_alert` |
| `dependabot` | Dependency management | `list_dependabot_alerts`, `get_dependabot_alert` |
| `discussions` | GitHub Discussions | `list_discussions`, `get_discussion`, `get_discussion_comments`, `list_discussion_categories` |
| `experiments` | Experimental features | Unstable/preview APIs |
| `gists` | Gist operations | `get_gist`, `list_gists` |
| `labels` | Label management | `get_label`, `list_label` |
| `notifications` | Notifications | `list_notifications`, `get_notification_details` |
| `orgs` | Organization security advisories | `list_org_repository_security_advisories` |
| `projects` | GitHub Projects | `list_projects`, `get_project`, `list_project_items`, `get_project_field` |
| `secret_protection` | Secret scanning | `list_secret_scanning_alerts`, `get_secret_scanning_alert` |
| `security_advisories` | Security advisories | `list_global_security_advisories`, `get_global_security_advisory`, `list_repository_security_advisories` |
| `stargazers` | Repository stars | `list_starred_repositories` |
| `users` | User profiles | User-related operations (requires explicit token scopes) |
| `search` | Advanced search | `search_repositories`, `search_code`, `search_issues`, `search_pull_requests`, `search_users`, `search_orgs` |

## Available Tools by Toolset

This section maps individual tools to their respective toolsets to help with migration from `allowed:` to `toolsets:`.

### Context Toolset
- `get_copilot_space` - Get details about a specific GitHub Copilot space
- `list_copilot_spaces` - List available GitHub Copilot spaces
- `github_support_docs_search` - Search GitHub support documentation

### Repos Toolset
- `get_file_contents` - Read file contents from a repository
- `get_repository_tree` - Get the file tree of a repository
- `list_commits` - List commits in a repository
- `get_commit` - Get details of a specific commit
- `list_branches` - List branches in a repository
- `list_tags` - List tags in a repository
- `get_tag` - Get details of a specific tag
- `get_latest_release` - Get the latest release for a repository
- `get_release_by_tag` - Get a release by its tag name
- `list_releases` - List all releases for a repository

### Issues Toolset
- `issue_read` - Read issue details and comments
- `list_issues` - List issues in a repository
- `list_issue_types` - List available issue types for a repository
- `search_issues` - Search issues (alias; primary search is in `search` toolset)

### Pull Requests Toolset
- `pull_request_read` - Read pull request details and reviews
- `list_pull_requests` - List pull requests in a repository
- `search_pull_requests` - Search pull requests (alias; primary search is in `search` toolset)

### Actions Toolset
- `actions_list` - List GitHub Actions workflows and runs
- `actions_get` - Get details of a specific workflow run
- `get_job_logs` - Download logs for a specific workflow job

### Code Security Toolset
- `list_code_scanning_alerts` - List code scanning alerts for a repository
- `get_code_scanning_alert` - Get details of a specific code scanning alert

### Dependabot Toolset
- `list_dependabot_alerts` - List Dependabot alerts for a repository
- `get_dependabot_alert` - Get details of a specific Dependabot alert

### Discussions Toolset
- `list_discussions` - List discussions in a repository
- `get_discussion` - Get details of a specific discussion
- `get_discussion_comments` - Get comments for a discussion
- `list_discussion_categories` - List discussion categories for a repository

### Gists Toolset
- `get_gist` - Get a specific gist
- `list_gists` - List gists for a user

### Labels Toolset
- `get_label` - Get label details
- `list_label` - List labels in a repository

### Notifications Toolset
- `list_notifications` - List user notifications
- `get_notification_details` - Get details of a specific notification

### Orgs Toolset
- `list_org_repository_security_advisories` - List security advisories for repositories in an organization

### Projects Toolset
- `list_projects` - List GitHub Projects for a user or organization
- `get_project` - Get details of a specific project
- `list_project_items` - List items in a project
- `get_project_item` - Get a specific project item
- `list_project_fields` - List fields defined in a project
- `get_project_field` - Get a specific project field

### Secret Protection Toolset
- `list_secret_scanning_alerts` - List secret scanning alerts for a repository
- `get_secret_scanning_alert` - Get details of a specific secret scanning alert

### Security Advisories Toolset
- `list_global_security_advisories` - List global security advisories from the GitHub Advisory Database
- `get_global_security_advisory` - Get details of a specific global security advisory
- `list_repository_security_advisories` - List security advisories for a specific repository

### Stargazers Toolset
- `list_starred_repositories` - List repositories starred by a user

### Users Toolset
User-related tools (requires explicit token scopes not available via `GITHUB_TOKEN`).

### Search Toolset
- `search_repositories` - Search for repositories
- `search_code` - Search code across repositories
- `search_issues` - Search issues and pull requests
- `search_pull_requests` - Search pull requests
- `search_users` - Search GitHub users
- `search_orgs` - Search GitHub organizations

## Authentication Details

### Remote Mode Authentication

The remote mode uses Bearer token authentication:

**Headers**:
- `Authorization: Bearer <token>` - Required for authentication
- `X-MCP-Readonly: true` - Optional, enables read-only mode

**Token Source**:
- Default: `${{ secrets.GH_AW_GITHUB_TOKEN }}` or `${{ secrets.GITHUB_TOKEN }}`
- Custom: Configure via `github-token` field

### Local Mode Authentication

The local mode uses environment variables:

**Environment Variables**:
- `GITHUB_PERSONAL_ACCESS_TOKEN` - Required for authentication
- `GITHUB_READ_ONLY=1` - Optional, enables read-only mode
- `GITHUB_TOOLSETS=<comma-separated-list>` - Optional, specifies enabled toolsets

## Best Practices

### Toolset Selection

1. **Start with defaults**: For most workflows, the recommended default toolsets provide sufficient functionality
2. **Enable specific toolsets**: Only enable additional toolsets when you need their specific functionality
3. **Security consideration**: Be mindful of write operations - consider using read-only mode when possible
4. **Performance**: Using fewer toolsets reduces initialization time and memory usage

### Token Permissions

Ensure your GitHub token has appropriate permissions for the toolsets you're enabling:

- `repos` toolsets: Requires repository read/write permissions (`contents`)
- `issues` toolsets: Requires issues read/write permissions (`issues`)
- `pull_requests` toolsets: Requires pull requests read/write permissions (`pull-requests`)
- `actions` toolsets: Requires actions read permissions (`actions`)
- `discussions` toolsets: Requires discussions read/write permissions (`discussions`)
- `code_security`, `dependabot`, `secret_protection`, `security_advisories`: Requires `security-events`
- `projects`: Requires a PAT - not supported by `GITHUB_TOKEN`
- `users`: Requires additional token scopes not available via `GITHUB_TOKEN`

### Remote vs Local Mode

**Use Remote Mode when**:
- You want faster initialization (no Docker container to start)
- You're running in a GitHub Actions environment with internet access
- You want to use the latest version without specifying Docker image tags

**Use Local Mode when**:
- You need a specific version of the MCP server
- You want to use custom arguments
- You're running in an environment without internet access
- You want to test with a local build of the MCP server

## Migration from Allowed to Toolsets

If you have existing workflows using the `allowed:` pattern, we recommend migrating to `toolsets:` for better maintainability and stability. Individual tool names may change between MCP server versions, but toolsets provide a stable API that won't break your workflows.

### Migration Examples

**Using `allowed:` (not recommended):**
```yaml
tools:
  github:
    allowed:
      - get_file_contents
      - list_commits
      - list_issues
      - issue_read
```

**Using `toolsets:` (recommended):**
```yaml
tools:
  github:
    toolsets: [repos, issues]
```

### Tool-to-Toolset Mapping

Use this table to identify which toolset contains the tools you need:

| `allowed:` Tools | Migrate to `toolsets:` |
|------------------|------------------------|
| `get_copilot_space`, `list_copilot_spaces`, `github_support_docs_search` | `context` |
| `get_file_contents`, `get_repository_tree`, `list_commits`, `get_commit`, `list_branches`, `list_tags`, `get_latest_release` | `repos` |
| `issue_read`, `list_issues`, `list_issue_types` | `issues` |
| `pull_request_read`, `list_pull_requests` | `pull_requests` |
| `actions_list`, `actions_get`, `get_job_logs` | `actions` |
| `list_code_scanning_alerts`, `get_code_scanning_alert` | `code_security` |
| `list_dependabot_alerts`, `get_dependabot_alert` | `dependabot` |
| `list_discussions`, `get_discussion`, `get_discussion_comments`, `list_discussion_categories` | `discussions` |
| `get_gist`, `list_gists` | `gists` |
| `get_label`, `list_label` | `labels` |
| `list_notifications`, `get_notification_details` | `notifications` |
| `list_org_repository_security_advisories` | `orgs` |
| `list_projects`, `get_project`, `list_project_items`, `get_project_field` | `projects` |
| `list_secret_scanning_alerts`, `get_secret_scanning_alert` | `secret_protection` |
| `list_global_security_advisories`, `get_global_security_advisory`, `list_repository_security_advisories` | `security_advisories` |
| `list_starred_repositories` | `stargazers` |
| `search_repositories`, `search_code`, `search_issues`, `search_pull_requests`, `search_users`, `search_orgs` | `search` |
| Mixed repos/issues/PRs tools | `[default]` |
| All tools | `[all]` |

### Legacy Tool Name Mapping

Some tools were renamed between MCP server versions. Use this table when migrating from older `allowed:` configurations:

| Legacy Tool Name | Current Toolset | Notes |
|-----------------|-----------------|-------|
| `get_teams`, `get_team_members` | `context` | Replaced by copilot space tools in v2 |
| `get_repository` | `repos` | Use `get_file_contents` or `get_repository_tree` |
| `search_code` | `search` | Moved from `repos` to `search` toolset |
| `create_issue`, `update_issue` | `issues` | Write operations via toolset |
| `add_reaction`, `create_issue_comment` | `issues` | Write operations via toolset |
| `get_pull_request`, `create_pull_request` | `pull_requests` | Write operations via toolset |
| `list_workflows`, `list_workflow_runs`, `get_workflow_run` | `actions` | Renamed to `actions_list`, `actions_get` |
| `download_workflow_run_artifact`, `get_workflow_run_usage` | `actions` | Via `actions` toolset |
| `list_workflow_jobs`, `list_workflow_run_artifacts` | `actions` | Via `actions` toolset |
| `create_code_scanning_alert` | `code_security` | Write operation via toolset |
| `create_discussion` | `discussions` | Write operation via toolset |
| `create_gist` | `gists` | Write operation via toolset |
| `list_labels`, `create_label` | `labels` | Write operations; `list_labels` → `list_label` |
| `mark_notifications_read` | `notifications` | Write operation via toolset |
| `get_organization`, `list_organizations` | `orgs` | Replaced by advisory-focused tools |
| `get_me` | `users` | Via `users` toolset |
| `get_user`, `list_users` | `users` | Via `users` toolset |
| `search_issues`, `search_pull_requests` | `search` | Moved to `search` toolset |

### Quick Migration Steps

1. **Identify tools in use**: Review your current `allowed:` list
2. **Map to toolsets**: Use the table above to find corresponding toolsets
3. **Replace configuration**: Change `allowed:` to `toolsets:`
4. **Test**: Run `gh aw mcp inspect <workflow-name>` to verify tools are available
5. **Compile**: Run `gh aw compile` to update the lock file

## Using Allowed Pattern with Custom MCP Servers

:::note[When to Use Allowed]
The `allowed:` pattern is appropriate for:
- Custom MCP servers (non-GitHub)
- Gradual migration of existing workflows
- Fine-grained restriction of specific tools within a toolset

For GitHub tools, always use `toolsets:` instead of `allowed:`.
:::

The `allowed:` field can still be used to restrict tools for custom MCP servers:

```yaml
mcp-servers:
  notion:
    container: "mcp/notion"
    allowed: ["search_pages", "get_page"]  # Fine for custom MCP servers
```

For GitHub tools, `allowed:` can be combined with `toolsets:` to further restrict access, but this pattern is not recommended for new workflows.

## GitHub API Limitations

Not all GitHub data is accessible through the GitHub MCP server or the GitHub REST API. Be aware of these limitations when designing workflows to avoid silent failures or incomplete results at runtime.

### Billing and Cost Data

**❌ Not available via standard API permissions:**

- **Detailed per-run cost data** — GitHub Actions does not expose per-workflow-run billing costs through the REST API. There is no endpoint to retrieve the exact cost of a specific workflow run.
- **Actions billing summary** — Billing endpoints (e.g., `/orgs/{org}/settings/billing/actions`) require `admin:org` scope, which is **not** granted by `actions:read` or the default `GITHUB_TOKEN`.

**⚠️ When suggesting billing/cost workflows, always note:**

> Detailed GitHub Actions billing and cost data is not accessible through the standard GitHub API with `actions:read` permissions. Workflows that attempt to read per-run cost data or billing summaries will fail silently or return empty results unless an `admin:org`-scoped personal access token is explicitly configured.

**✅ Alternatives for cost reporting:**

1. **GitHub Actions usage reports** — Download usage reports from the GitHub billing UI (Settings → Billing → Usage) or via the billing CSV export endpoint (requires `admin:org` scope with a PAT).
2. **Billing settings UI** — Direct users to `https://github.com/organizations/{org}/settings/billing` or `https://github.com/settings/billing` for personal accounts to view cost data manually.
3. **Workflow run metadata** — Use `actions_list` and `actions_get` (available via `actions` toolset) to get run duration, status, and timing — but not dollar costs.
4. **Third-party cost tracking** — Integrate with third-party CI cost tools that use pre-authorized API access.

### Cross-Organization Data Access

**❌ Not available without explicit authorization:**

- Workflows can only access data from repositories and organizations that the configured GitHub token has been granted access to.
- Cross-organization repository reads require a PAT or GitHub App token with access to the target org — the default `GITHUB_TOKEN` is scoped to the current repository's organization only.
- Organization membership and team data from *other* organizations is not accessible without explicit `read:org` permissions on those organizations.

### Organization Membership and Private Data

**❌ Requires additional scopes:**

- **Organization member lists** — Reading private organization membership requires `read:org` scope; the default `GITHUB_TOKEN` only exposes public membership.
- **Private repository contents** — Only accessible if the token has explicit repository access.
- **Secret values** — GitHub Secrets are write-only through the API; their values cannot be read back after creation.

### Rate Limits

**⚠️ Be aware of API rate limits:**

- The GitHub REST API enforces rate limits (typically 5,000 requests/hour for authenticated requests with a PAT, lower for `GITHUB_TOKEN`).
- Workflows that perform bulk data collection (e.g., listing all workflow runs across many repositories) may hit rate limits. Design workflows to paginate carefully and avoid unnecessary requests.
- GraphQL API has separate rate limits based on query complexity.

## Troubleshooting

### Common Issues

**Issue**: Tool not found or not available
- **Solution**: Check if you're using `allowed:` to restrict tools. Consider using `toolsets:` instead to get all related tools.
- **Verify**: Run `gh aw mcp inspect <workflow-name>` to see which tools are actually available.

**Issue**: Missing functionality after specifying toolset
- **Cause**: Using a too-narrow toolset that doesn't include all needed tools
- **Solution**: Either add additional toolsets (e.g., `toolsets: [default, actions]`) or use `[all]` for full access

**Issue**: Workflow using `allowed:` list is verbose and hard to maintain
- **Solution**: Migrate to `toolsets:` configuration using the migration guide above

**Issue**: Tool name changed between versions
- **Solution**: Use the Legacy Tool Name Mapping table above to find the current toolset

### Best Practices for Debugging

1. **Start with `[default]` toolset**: Most workflows work well with default toolsets
2. **Add specific toolsets as needed**: Incrementally add toolsets like `actions`, `discussions`, etc.
3. **Use `gh aw mcp inspect`**: Verify which tools are actually available
4. **Check tool-to-toolset mapping**: Reference the tables above to find the right toolset

## References

- [GitHub MCP Server Repository](https://github.com/github/github-mcp-server)
- [Model Context Protocol Specification](https://modelcontextprotocol.io/)
- [GitHub Actions Documentation](https://docs.github.com/actions)
